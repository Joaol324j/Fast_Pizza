# Pizza API

Uma API RESTful para gerenciamento de pedidos de pizza, desenvolvida com Python e FastAPI. O sistema oferece uma soluÃ§Ã£o completa para pizzarias, incluindo autenticaÃ§Ã£o de usuÃ¡rios, gerenciamento de pedidos, menu de produtos com suporte a imagens, sistema de promoÃ§Ãµes, comentÃ¡rios e recuperaÃ§Ã£o de senha via email.

## ğŸš€ Tecnologias Utilizadas

- Python 3.x
- FastAPI (Framework web)
- SQLAlchemy (ORM)
- PostgreSQL (Banco de dados)
- Docker & Docker Compose (ContainerizaÃ§Ã£o)
- JWT (AutenticaÃ§Ã£o)
- Jinja2 (Templates HTML)
- SMTP (Envio de emails)
- Pydantic (ValidaÃ§Ã£o de dados)
- OAuth2 (AutenticaÃ§Ã£o)

## ğŸ“‹ PrÃ©-requisitos

- Python 3.8 ou superior
- Docker e Docker Compose
- pip (gerenciador de pacotes Python)
- Conta Gmail (para envio de emails)

## ğŸ”§ InstalaÃ§Ã£o

### Usando Docker (Recomendado)

1. Clone o repositÃ³rio:
```bash
git clone https://github.com/seu-usuario/pizza_API.git
```

2. Entre no diretÃ³rio do projeto:
```bash
cd pizza_API
```

3. Configure as variÃ¡veis de ambiente:
Crie um arquivo `.env` baseado no `.env.sample`:
```env
DATABASE_URL=postgresql://postgres:postgres@db:5432/pizza_management
EMAIL_SENDER=seu_email@gmail.com
EMAIL_PASSWORD=sua_senha_de_app
```

4. Inicie os containers:
```bash
docker-compose up --build
```

### InstalaÃ§Ã£o Local

1. Crie e ative um ambiente virtual:
```bash
python -m venv venv
# Windows
venv\Scripts\activate
# Linux/Mac
source venv/bin/activate
```

2. Instale as dependÃªncias:
```bash
pip install -r requirements.txt
```

3. Configure as variÃ¡veis de ambiente como mostrado acima

4. Inicie o servidor:
```bash
uvicorn app.main:app --reload
```

## ğŸ“š Estrutura do Projeto

```
pizza_API/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ configs/         # ConfiguraÃ§Ãµes da aplicaÃ§Ã£o (banco de dados, etc)
â”‚   â”œâ”€â”€ models/          # Modelos SQLAlchemy
â”‚   â”œâ”€â”€ repositories/    # Camada de acesso a dados
â”‚   â”œâ”€â”€ routes/          # Endpoints da API
â”‚   â”œâ”€â”€ schemas/         # Schemas Pydantic para validaÃ§Ã£o
â”‚   â”œâ”€â”€ services/        # LÃ³gica de negÃ³cios
â”‚   â”œâ”€â”€ static/          # Arquivos estÃ¡ticos (CSS, JS, imagens)
â”‚   â”œâ”€â”€ templates/       # Templates HTML (login, registro, etc)
â”‚   â”œâ”€â”€ utils/           # UtilitÃ¡rios (JWT, email, etc)
â”‚   â””â”€â”€ main.py          # Ponto de entrada da aplicaÃ§Ã£o
â”œâ”€â”€ docker-compose.yml   # ConfiguraÃ§Ã£o Docker Compose
â”œâ”€â”€ Dockerfile          # ConfiguraÃ§Ã£o Docker
â”œâ”€â”€ requirements.txt    # DependÃªncias
â””â”€â”€ README.md          # Este arquivo
```

## ğŸ“š Funcionalidades

### AutenticaÃ§Ã£o e UsuÃ¡rios
- Cadastro de usuÃ¡rios com validaÃ§Ã£o de email
- Login com JWT (JSON Web Token)
- RecuperaÃ§Ã£o de senha via email
- ProteÃ§Ã£o de rotas com autenticaÃ§Ã£o OAuth2

### Menu de Produtos
- Cadastro de produtos com suporte a imagens
- CategorizaÃ§Ã£o de produtos
- Upload de imagens para produtos
- Listagem e busca de produtos

### Sistema de PromoÃ§Ãµes
- CriaÃ§Ã£o de promoÃ§Ãµes para produtos
- Descontos percentuais e fixos
- AplicaÃ§Ã£o automÃ¡tica de promoÃ§Ãµes em pedidos
- Gerenciamento de promoÃ§Ãµes ativas

### Pedidos
- CriaÃ§Ã£o de pedidos com mÃºltiplos produtos
- CÃ¡lculo automÃ¡tico de totais com promoÃ§Ãµes
- AtualizaÃ§Ã£o de status de pedidos
- HistÃ³rico de pedidos

### ComentÃ¡rios e AvaliaÃ§Ãµes
- ComentÃ¡rios em produtos
- Sistema de avaliaÃ§Ã£o com notas
- ModeraÃ§Ã£o de comentÃ¡rios
- Listagem de comentÃ¡rios por produto

## ğŸ“š Endpoints da API

### AutenticaÃ§Ã£o
- `POST /user/cadastro/` - Cadastro de novo usuÃ¡rio
- `POST /user/login/` - Login de usuÃ¡rio
- `POST /reset/solicitar-recuperacao/` - Solicita recuperaÃ§Ã£o de senha
- `POST /reset/resetar-senha/{token}` - Redefine a senha

### Produtos
- `GET /produtos/` - Lista todos os produtos
- `GET /produtos/{produto_id}` - ObtÃ©m um produto especÃ­fico
- `POST /produtos/` - Cria um novo produto (com suporte a imagem)
- `PUT /produtos/{produto_id}` - Atualiza um produto
- `DELETE /produtos/{produto_id}` - Remove um produto

### PromoÃ§Ãµes
- `GET /promocoes/` - Lista todas as promoÃ§Ãµes
- `GET /promocoes/{promocao_id}` - ObtÃ©m uma promoÃ§Ã£o especÃ­fica
- `POST /promocoes/` - Cria uma nova promoÃ§Ã£o
- `PUT /promocoes/{promocao_id}` - Atualiza uma promoÃ§Ã£o
- `DELETE /promocoes/{promocao_id}` - Remove uma promoÃ§Ã£o

### Pedidos
- `POST /pedidos/` - Cria um novo pedido
- `GET /pedidos/` - Lista todos os pedidos
- `GET /pedidos/{pedido_id}` - ObtÃ©m um pedido especÃ­fico
- `PUT /pedidos/{pedido_id}/status` - Atualiza o status do pedido
- `DELETE /pedidos/{pedido_id}` - Remove um pedido

### ComentÃ¡rios
- `POST /comentarios/` - Cria um novo comentÃ¡rio
- `GET /comentarios/{produto_id}/` - Lista comentÃ¡rios de um produto
- `PUT /comentarios/{comentario_id}/` - Atualiza um comentÃ¡rio
- `DELETE /comentarios/{comentario_id}/` - Remove um comentÃ¡rio

## ğŸ§ª Testes

Para executar os testes:
```bash
pytest
```

## ğŸ”’ SeguranÃ§a

- AutenticaÃ§Ã£o JWT com tokens de acesso
- Senhas criptografadas com bcrypt
- ProteÃ§Ã£o contra injeÃ§Ã£o SQL via SQLAlchemy
- ValidaÃ§Ã£o de dados com Pydantic
- RecuperaÃ§Ã£o de senha segura via email

## ğŸ‘¥ ContribuiÃ§Ã£o

1. FaÃ§a um Fork do projeto
2. Crie uma branch para sua feature (`git checkout -b feature/AmazingFeature`)
3. Commit suas mudanÃ§as (`git commit -m 'Add some AmazingFeature'`)
4. Push para a branch (`git push origin feature/AmazingFeature`)
5. Abra um Pull Request

## ğŸ“ Suporte

Para suporte, envie um email para joaol324j@gmail.com ou abra uma issue no repositÃ³rio.
